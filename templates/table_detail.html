<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡¨ç»“æ„è¯¦æƒ… - {{.TableName}} - Block Mechanica</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
<div class="container">
    <a href="/databases/{{.DatabaseName}}/tables" class="back-btn">â† è¿”å›è¡¨åˆ—è¡¨</a>
    <div class="header">
        <h1>ğŸ“‘{{.TableName}} è¡¨ç»“æ„è¯¦æƒ…</h1>
        <p>æ•°æ®åº“ï¼š<strong>{{.DatabaseName}}</strong>ï¼Œè¡¨ï¼š<strong>{{.TableName}}</strong></p>
    </div>

    <h2 class="section-title">å­—æ®µä¿¡æ¯</h2>
    <div class="md-card table-detail-wrapper md-elevation">
        <div class="md-card-header">
            <div class="md-card-title">å­—æ®µä¿¡æ¯</div>
            <div class="md-card-sub">å…± {{len .Detail.Fields}} ä¸ªå­—æ®µ</div>
        </div>
        <div class="table-scroll">
            <table class="table-detail">
                <thead>
                <tr>
                    <th class="col-name">å­—æ®µå</th>
                    <th class="col-type">ç±»å‹</th>
                    <th class="col-null">å¯ç©º</th>
                    <th class="col-pk">ä¸»é”®</th>
                    <th class="col-default">é»˜è®¤å€¼</th>
                    <th class="col-extra">é¢å¤–</th>
                    <th class="col-comment">æ³¨é‡Š</th>
                </tr>
                </thead>
                <tbody>
                {{range .Detail.Fields}}
                <tr>
                    <td class="col-name">{{.Name}}</td>
                    <td class="col-type"><code>{{.Type}}</code></td>
                    <td class="col-null">
                        {{if .IsNullable}}
                            <span class="chip chip-true" aria-label="å¯ç©º">
                                <svg class="icon icon-check" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                                    <polyline points="3 9 7 13 13 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="chip-label">æ˜¯</span>
                            </span>
                        {{else}}
                            <span class="chip chip-false" aria-label="ä¸å¯ç©º">
                                <svg class="icon icon-cross" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                                    <line x1="4" y1="4" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <line x1="12" y1="4" x2="4" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <span class="chip-label">å¦</span>
                            </span>
                        {{end}}
                    </td>
                    <td class="col-pk">
                        {{if .IsPrimary}}
                            <span class="badge-pk" aria-label="ä¸»é”®">
                                <span class="chip-label">PK</span>
                            </span>
                        {{else}}â€”{{end}}
                    </td>
                    <td class="col-default">
                        {{if .Default}}
                            <code>{{.Default}}</code>
                        {{else}}
                            <span class="md-empty">NULL</span>
                        {{end}}
                    </td>
                    <td class="col-extra">{{if .Extra}}{{.Extra}}{{else}}â€”{{end}}</td>
                    <td class="col-comment">{{if .Comment}}{{.Comment}}{{else}}â€”{{end}}</td>
                </tr>
                {{end}}
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">ç´¢å¼•ä¿¡æ¯</h2>
    <div class="md-card table-detail-wrapper md-elevation">
        <div class="md-card-header">
            <div class="md-card-title">ç´¢å¼•ä¿¡æ¯</div>
            <div class="md-card-sub">å…± {{len .Detail.Indexes}} ä¸ªç´¢å¼•</div>
        </div>
        <div class="table-scroll" style="padding:16px 20px;">
            {{if len .Detail.Indexes}}
            <ul class="md-list">
                {{range .Detail.Indexes}}
                <li class="md-list-item">
                    <div class="md-list-left">
                        <strong>{{.Name}}</strong>
                        {{if .Unique}}<span class="index-badge">å”¯ä¸€</span>{{end}}
                    </div>
                    <div class="md-list-meta">
                        <div class="cols-list">
                            {{range $i, $col := .Columns}}{{if $i}}, {{end}}<code class="col-chip">{{$col}}</code>{{end}}
                        </div>
                    </div>
                </li>
                {{end}}
            </ul>
            {{else}}
            <p class="md-empty">æ— ç´¢å¼•</p>
            {{end}}
        </div>
    </div>

    <h2 class="section-title">çº¦æŸä¿¡æ¯</h2>
    <div class="md-card table-detail-wrapper md-elevation">
        <div class="md-card-header">
            <div class="md-card-title">çº¦æŸä¿¡æ¯</div>
            <div class="md-card-sub">å…± {{len .Detail.Constraints}} æ¡çº¦æŸ</div>
        </div>
        <div class="table-scroll" style="padding:16px 20px;">
            {{if len .Detail.Constraints}}
            <ul class="md-list">
                {{range .Detail.Constraints}}
                <li class="md-list-item">
                    <div class="md-list-left">
                        <strong>{{.Type}}</strong>
                        <span class="constraint-name">{{.Name}}</span>
                    </div>
                    <div class="md-list-meta">
                        <div class="cols-list">
                            {{range $i, $col := .Columns}}{{if $i}}, {{end}}<code class="col-chip">{{$col}}</code>{{end}}
                        </div>
                        {{if eq .Type "FOREIGN KEY"}}
                        <div class="ref" style="margin-top:8px;">
                            å¼•ç”¨ï¼š<code class="col-chip">{{.ReferencedTable}}({{.ReferencedColumn}})</code>
                        </div>
                        {{end}}
                    </div>
                </li>
                {{end}}
            </ul>
            {{else}}
            <p class="md-empty">æ— çº¦æŸ</p>
            {{end}}
        </div>
    </div>

    <div class="footer">
        Powered by Echo v4 | Block Mechanica æ•°æ®åº“é›†ç¾¤æ£€æµ‹å·¥å…·
    </div>
</div>
</body>
</html>
